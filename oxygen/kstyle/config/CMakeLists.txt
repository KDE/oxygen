include_directories( ${KDE4_KDEUI_INCLUDES} ${KDEBASE_WORKSPACE_SOURCE_DIR}/libs/oxygen)

########### next target ###############
set(kstyle_oxygen_config_PART_SRCS
    oxygenanimationconfigwidget.cpp
    oxygenfollowmouseanimationconfigitem.cpp
    oxygenstyleconfig.cpp
)

kde4_add_kcfg_files(kstyle_oxygen_config_PART_SRCS ../oxygenstyleconfigdata.kcfgc)

set( kstyle_oxygen_config_PART_FORMS
    ui/oxygenfollowmouseanimationconfigbox.ui
    ui/oxygenstyleconfig.ui
)

qt5_wrap_ui(kstyle_oxygen_config_PART_FORMS_HEADERS ${kstyle_oxygen_config_PART_FORMS})

add_library(kstyle_oxygen_config
    ${kstyle_oxygen_config_PART_SRCS}
    ${kstyle_oxygen_config_PART_FORMS_HEADERS}
)

qt5_use_modules( kstyle_oxygen_config
    Core
    Gui
    Widgets
    DBus
)

target_link_libraries( kstyle_oxygen_config oxygenstyleconfig )

target_link_libraries( kstyle_oxygen_config
  ${KConfig_LIBRARIES}
  ${KCompletion_LIBRARIES}
  ${KGuiAddons_LIBRARIES}
  ${KWidgets_LIBRARIES}
  ${KI18n_LIBRARIES}
)

install(TARGETS kstyle_oxygen_config DESTINATION ${QT_PLUGIN_INSTALL_DIR}/kf5 )

########### next target ###############
set( oxygen_settings_SOURCES
    oxygenconfigdialog.cpp
    main.cpp)

add_executable( oxygen-settings ${oxygen_settings_SOURCES} )

qt5_use_modules( oxygen-settings
    Core
    Gui
    Widgets
)

target_link_libraries(oxygen-settings
    ${KConfig_LIBRARIES}
    ${KService_LIBRARIES}
    ${KGuiAddons_LIBRARIES}
    ${KWidgets_LIBRARIES}
    ${KWidgetsAddons_LIBRARIES}
    ${KI18n_LIBRARIES}
)
########### install files ###############
install (TARGETS oxygen-settings ${INSTALL_TARGETS_DEFAULT_ARGS} )
